<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="css/index.css" rel="stylesheet">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper@7.0.6/swiper-bundle.min.css"
    />
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Libre+Barcode+39+Extended+Text&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="table">
      <div class="left">
       <h1><a href="index.html">DAIV IN</a></h1>
        <ul class="category">
          <li>
            <span><i class="fa-solid fa-video"></i></span>
          <a href="">최신 영화</a>
          </li>
          <li>
            <span><i class="fa-solid fa-folder-open"></i></span>
          <a href="sub.html">장르</a>
            <ul class="sub">
              <li><a href="" class="bar">로맨스</a></li>
            <li><a href="" class="bar">공포·스릴러</a></li>
            <li><a href="" class="bar">판타지</a></li>
            <li><a href="" class="bar">드라마</a></li>
            </ul>
          </li>
          <li id="wishlistToggle">
            <span><i class="fa-solid fa-barcode"></i></span>
          PICK ME
          </li>
        </ul>
        <div class="footer">
          <p>【Team Project】</p>
          <ul>
            <li>
              <p>Lee Jihyang</p>
              <p>Yun juyoung</p>
            </li>
            <li>
              <p>Lee Hyunhwa</p>
              <p>Oh Jeongyeon</p>
            </li>
          </ul>
        </div>
      </li>
    </div>
    <div class="right">
      <form class="search" action="" method="get">
        <input
          class="searchTex"
          type="text"
          placeholder="영화를 입력하세요."
        />
        <button class="searchBtn" type="submit">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </form>
        <div class="swiper-container">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <h2>혹성탈출</h2>
              <p>세상의 주인이 바뀌다.</p>
            </div>
            <div class="swiper-slide">Slide 2</div>
            <div class="swiper-slide">Slide 3</div>
            <div class="swiper-slide">Slide 4</div>
            <div class="swiper-slide">Slide 5</div>
          </div>
        </div>
        <section id="section1">
          <h2>한국 인기</h2>
              <ul class="korea">
                <li>      
                  <div class="imgWrap">
                  <img src="" alt="" class="moviePoster">
                  </div>
                  <div class="textWrap">
                    <div class="textTop">
                      <h2 class="movieName">영화 제목 1</h2>
                      <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                      <div class="textDown">
                        <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                      </div>
                    </div>
                  </div>
                </li>
                <li>      
                  <div class="imgWrap">
                  <img src="" alt="" class="moviePoster">
                  </div>
                  <div class="textWrap">
                    <div class="textTop">
                      <h2 class="movieName">영화 제목 1</h2>
                      <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                      <div class="textDown">
                        <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                      </div>
                    </div>
                  </div>
                </li>
                <li>      
                  <div class="imgWrap">
                  <img src="" alt="" class="moviePoster">
                  </div>
                  <div class="textWrap">
                    <div class="textTop">
                      <h2 class="movieName">영화 제목 1</h2>
                      <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                      <div class="textDown">
                        <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                      </div>
                    </div>
                  </div>
                </li>
                <li>      
                  <div class="imgWrap">
                  <img src="" alt="" class="moviePoster">
                  </div>
                  <div class="textWrap">
                    <div class="textTop">
                      <h2 class="movieName">영화 제목 1</h2>
                      <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                      <div class="textDown">
                        <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                      </div>
                    </div>
                  </div>
                </li>
                <li>      
                  <div class="imgWrap">
                  <img src="" alt="" class="moviePoster">
                  </div>
                  <div class="textWrap">
                    <div class="textTop">
                      <h2 class="movieName">영화 제목 1</h2>
                      <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                      <div class="textDown">
                        <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                      </div>
                    </div>
                  </div>
                </li>
                <li>      
                  <div class="imgWrap">
                  <img src="" alt="" class="moviePoster">
                  </div>
                  <div class="textWrap">
                    <div class="textTop">
                      <h2 class="movieName">영화 제목 1</h2>
                      <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                      <div class="textDown">
                        <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                      </div>
                    </div>
                  </div>
                </li>
                <li>      
                  <div class="imgWrap">
                  <img src="" alt="" class="moviePoster">
                  </div>
                  <div class="textWrap">
                    <div class="textTop">
                      <h2 class="movieName">영화 제목 1</h2>
                      <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                      <div class="textDown">
                        <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                      </div>
                    </div>
                  </div>
                </li>
                <li>      
                  <div class="imgWrap">
                  <img src="" alt="" class="moviePoster">
                  </div>
                  <div class="textWrap">
                    <div class="textTop">
                      <h2 class="movieName">영화 제목 1</h2>
                      <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                      <div class="textDown">
                        <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
           
          <div class="btns">
            <button class="prev-btn">
              <i class="fa-solid fa-chevron-left"></i>
            </button>
            <button class="next-btn">
              <i class="fa-solid fa-chevron-right"></i>
            </button>
          </div>
        </section>
        <section id="section2">
          <h2>해외 인기</h2>
      
            <ul class="global">
              <li>      
                <div class="imgWrap">
                <img src="" alt="" class="moviePoster">
                </div>
                <div class="textWrap">
                  <div class="textTop">
                    <h2 class="movieName">영화 제목 2</h2>
                    <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                    <div class="textDown">
                      <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                    </div>
                  </div>
                </div>
              </li>
              <li>      
                <div class="imgWrap">
                <img src="" alt="" class="moviePoster">
                </div>
                <div class="textWrap">
                  <div class="textTop">
                    <h2 class="movieName">영화 제목 2</h2>
                    <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                    <div class="textDown">
                      <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                    </div>
                  </div>
                </div>
              </li>
              <li>      
                <div class="imgWrap">
                <img src="" alt="" class="moviePoster">
                </div>
                <div class="textWrap">
                  <div class="textTop">
                    <h2 class="movieName">영화 제목 2</h2>
                    <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                    <div class="textDown">
                      <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                    </div>
                  </div>
                </div>
              </li>
              <li>      
                <div class="imgWrap">
                <img src="" alt="" class="moviePoster">
                </div>
                <div class="textWrap">
                  <div class="textTop">
                    <h2 class="movieName">영화 제목 2</h2>
                    <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                    <div class="textDown">
                      <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                    </div>
                  </div>
                </div>
              </li>
              <li>      
                <div class="imgWrap">
                <img src="" alt="" class="moviePoster">
                </div>
                <div class="textWrap">
                  <div class="textTop">
                    <h2 class="movieName">영화 제목 2</h2>
                    <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                    <div class="textDown">
                      <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                    </div>
                  </div>
                </div>
              </li>
              <li>      
                <div class="imgWrap">
                <img src="" alt="" class="moviePoster">
                </div>
                <div class="textWrap">
                  <div class="textTop">
                    <h2 class="movieName">영화 제목 2</h2>
                    <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                    <div class="textDown">
                      <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                    </div>
                  </div>
                </div>
              </li>
              <li>      
                <div class="imgWrap">
                <img src="" alt="" class="moviePoster">
                </div>
                <div class="textWrap">
                  <div class="textTop">
                    <h2 class="movieName">영화 제목 2</h2>
                    <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                    <div class="textDown">
                      <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                    </div>
                  </div>
                </div>
              </li>
              <li>      
                <div class="imgWrap">
                <img src="" alt="" class="moviePoster">
                </div>
                <div class="textWrap">
                  <div class="textTop">
                    <h2 class="movieName">영화 제목 2</h2>
                    <span class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></span>
                    <div class="textDown">
                      <p><i class="fa-solid fa-star"></i><span class="rating">4.5</span></p>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
        
          <div class="btns">
            <button class="prev-btn">
              <i class="fa-solid fa-chevron-left"></i>
            </button>
            <button class="next-btn">
              <i class="fa-solid fa-chevron-right"></i>
            </button>
          </div>
        </section>
    </div>
    <!-- 찜 -->
    <div id="wishlist">
      <h2>찜 목록</h2>
      <ul id="wishlistItems">
      </ul>
    </div>
    </div>
    <script src="https://unpkg.com/swiper@7.0.6/swiper-bundle.min.js"></script>
    <script src="js/obfuscated (1).js"></script>
    <script src="js/api.js"></script>
    <script src="js/index2.js"></script>
    <script src="js/pick me.js"></script>
    <script>
      var swiper = new Swiper(".swiper-container", {
        slidesPerView: 1,
        loop: true,
        autoplay: {
    delay: 4000, // 오토 슬라이드 딜레이 설정 (ms)
    disableOnInteraction: false, // 유저 상호작용시 오토 슬라이드를 일시 정지하지 않음
  },
  speed: 1000, // 슬라이드 전환 속도 설정 (ms)
        effect: "coverflow",
        grabCursor: true,
        centeredSlides: true,
        spaceBetween: -100,
        coverflowEffect: {
          rotate: 0,
          stretch: 0,
          depth: 450,
          modifier: 1,
          slideShadows: false,
        }
      });
//찜
     let wishlist = [];

    function toggleLike(element) {
      element.classList.toggle("clicked");
      const movieElement = element.closest("li");
      if (element.classList.contains("clicked")) {
        wishlist.push(movieElement.outerHTML);
      } else {
        wishlist = wishlist.filter(item => item !== movieElement.outerHTML);
      }
      updateWishlist();
    }

    function updateWishlist() {
      const wishlistItems = document.getElementById("wishlistItems");
      wishlistItems.innerHTML = "";
      wishlist.forEach(item => {
        const li = document.createElement("li");
        li.innerHTML = item;
        wishlistItems.appendChild(li);
      });
    }

    document.getElementById("wishlistToggle").addEventListener("click", () => {
      const wishlist = document.getElementById("wishlist");
      wishlist.style.display = wishlist.style.display === "none" ? "block" : "none";
    });

    document.addEventListener("DOMContentLoaded", () => {
      const API_KEY = "7ff88bc9efd6d958c3571508ec714a7e";
      const KOREA_MOVIE_URL = `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=ko-KR&page=1`;
      const GLOBAL_MOVIE_URL = `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`;

      function fetchMovies(url, containerId) {
        fetch(url)
          .then(response => response.json())
          .then(data => {
            const movies = data.results;
            const container = document.getElementById(containerId);
            container.innerHTML = "";
            movies.forEach(movie => {
              const li = document.createElement("li");
              li.innerHTML = `
                <div class="imgWrap">
                  <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}" class="moviePoster">
                </div>
                <div class="textWrap">
                  <div class="textTop">
                    <h2 class="movieName">${movie.title}</h2>
                    <div class="topIcon" onclick="toggleLike(this)"><i class="fa-regular fa-heart"></i></div>
                  </div>
                  <p class="movieDesc">${movie.overview}</p>
                </div>
              `;
              container.appendChild(li);
            });
          });
      }

      fetchMovies(KOREA_MOVIE_URL, "koreaMovies");
      fetchMovies(GLOBAL_MOVIE_URL, "globalMovies");
    });
    </script>
  </body>
</html>
